<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Revista – Flipbook</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<style>
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  background: #111;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.stage {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

#flipbook {
  width: 98vw;
  height: 98vh;
}

#flipbook .page {
  background: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}

#flipbook img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  user-select: none;
  -webkit-user-drag: none;
}

.nav {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,.55);
  color: #fff;
  border: none;
  font-size: 48px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  cursor: pointer;
  z-index: 10;
  display: grid;
  place-items: center;
}

.nav.prev { left: 16px; }
.nav.next { right: 16px; }

.months {
  position: fixed;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,.6);
  padding: 10px 16px;
  border-radius: 30px;
  display: flex;
  gap: 6px;
  z-index: 20;
}

.months button {
  background: #444;
  color: #ddd;
  border: none;
  padding: 6px 12px;
  border-radius: 16px;
  cursor: pointer;
  font-size: 13px;
}

.months button.active {
  background: #fff;
  color: #000;
}

.zoom-controls {
  position: fixed;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
  display: flex;
  gap: 8px;
}

.zoom-controls button {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: rgba(0,0,0,.7);
  color: #fff;
  font-size: 20px;
  cursor: pointer;
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="libs/turn.min.js"></script>
</head>
<body>

<div class="stage">
  <div id="flipbook">
    <!-- PÁGINA FANTASMA (NO TOCAR) -->
    <div class="page"></div>

    <!-- PÁGINAS REALES (ESTRUCTURA ORIGINAL) -->
    <div class="page"><img src="Imagenes/Boletin1.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin2.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin3.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin4.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin5.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin6.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin7.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin8.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin9.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin10.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin11.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin12.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin13.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin14.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin15.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin16.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin17.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin18.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin19.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin20.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin21.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin22.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin23.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin24.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin25.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin26.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin27.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin28.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin29.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin30.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin31.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin32.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin33.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin34.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin35.jpg"></div>
    <div class="page"><img src="Imagenes/Boletin36.jpg"></div>
  </div>
</div>

<button class="nav prev">‹</button>
<button class="nav next">›</button>

<div class="zoom-controls">
  <button id="zoomOut">−</button>
  <button id="zoomIn">+</button>
</div>

<div class="months">
  <button data-page="2" class="active">Febrero</button>
  <button data-page="6">Marzo</button>
  <button data-page="10">Abril</button>
  <button data-page="14">Mayo</button>
  <button data-page="18">Junio</button>
  <button data-page="22">Julio</button>
  <button data-page="26">Agosto</button>
  <button data-page="30">Septiembre</button>
  <button data-page="34">Noviembre</button>
</div>

<audio id="flipSound" src="Audio/Sonido.mp3" preload="auto"></audio>

<script>
let zoom = 1;
const fb = $('#flipbook');
const flipSound = document.getElementById('flipSound');

fb.turn({
  width: fb.width(),
  height: fb.height(),
  autoCenter: true,
  display: 'double',
  page: 2
});

fb.on('turned', function(e, page){
  flipSound.currentTime = 0;
  flipSound.play();

  if (page <= 2) {
    document.querySelector('.nav.prev').style.pointerEvents = 'none';
    document.querySelector('.nav.prev').style.opacity = .3;
  } else {
    document.querySelector('.nav.prev').style.pointerEvents = 'auto';
    document.querySelector('.nav.prev').style.opacity = 1;
  }
});

document.querySelector('.nav.next').onclick = () => fb.turn('next');
document.querySelector('.nav.prev').onclick = () => fb.turn('previous');

document.querySelectorAll('.months button').forEach(btn => {
  btn.onclick = () => fb.turn('page', parseInt(btn.dataset.page));
});

document.getElementById('zoomIn').onclick = () => {
  zoom = Math.min(zoom + 0.1, 2);
  fb.css('transform', `scale(${zoom})`);
};

document.getElementById('zoomOut').onclick = () => {
  zoom = Math.max(zoom - 0.1, 0.6);
  fb.css('transform', `scale(${zoom})`);
};

window.addEventListener('resize', () => {
  fb.turn('size', fb.width(), fb.height());
});
</script>

</body>
</html>
